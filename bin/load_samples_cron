#!/usr/bin/env perl

# PODNAME:  load_samples_cron
# ABSTRACT: cron script to load new sample metadata
# jt6 20150416 WTSI

# vim: ft=perl :

use strict;
use warnings;

use Bio::HICF::SampleLoader;

my $loader = Bio::HICF::SampleLoader->new;
$loader->find_files;

$DB::single = 1;

__END__

=head1 SYNOPSIS

 shell% load_manifest -c hicf.conf -d db.conf manifest.csv
 manifest 4162F712-1DD2-11B2-B17E-C09EFE1DC403 is loaded

=head1 DESCRIPTION

This script loads a sample manifest into the HICF database. The manifest must
conform to a checklist, specified using the C<--checklist> option, and the
database connection parameters must be supplied in a config file specified by
the C<--dbconfig> option. The manifest itself must be formatted as a
comma-separated values (CSV) file, as generated by dumping an excel
spreadsheet.

Before attempting to load the manifest, the script first validates the
contents using the specified checklist. If the manifest is invalid, an
error message is printed. Use the C<validate_manifest> script to check a
manifest and print any validation error messages.

=head1 OPTIONS

=over 4

=item -h --help

display help text

=item -c --config

checklist configuration file. Required.

=item -d --dbconfig

database connection parameters configuration file. Required.

=back

=head1 SEE ALSO

C<validate_manifest>,
L<Bio::Metadata::Validator>

=head1 CONTACT

path-help@sanger.ac.uk

=cut

